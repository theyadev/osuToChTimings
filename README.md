# .osu to .chart Converter

A tool that converts timing points (BPM changes and time signatures) from osu! beatmap files to Clone Hero chart format.

## Overview

This tool helps rhythm game chart creators by extracting BPM and time signature information from osu! beatmaps and converting them to the Clone Hero chart format. This is particularly useful when you want to recreate a song from osu! in Clone Hero while maintaining the exact same timing.

## Features

- Extracts BPM changes and time signatures from osu! beatmap files
- Converts timing points to Clone Hero's tick-based format
- Maintains accurate synchronization between the two games
- Handles multiple BPM changes and time signatures
- Outputs a properly formatted .chart file with SyncTrack section
- Supports both command-line tool and web application
- Handles negative timing points in osu! files
- Preserves decimal precision in BPM values

## Web Application

A web version of this tool is available at:
https://beatmap-to-chart.fassitheo.com

The web application offers additional features:
- Simple usage - just paste an osu! beatmap URL
- Automatic beatmap downloading and extraction
- Complete .chart file generation with metadata
- Audio file download option

## Command-Line Tool Requirements

- Python 3.6 or higher

## Installation

Clone this repository or download the source code:

```bash
git clone https://github.com/theyadev/osuToChTimings.git
cd osuToChTimings
```

No additional dependencies are required beyond Python's standard library for the command-line tool.

## Usage

### Basic Usage

```bash
python main.py [input_file]
```

By default, the converter will display the result in the terminal.

### Command Line Options

```
usage: main.py [-h] [-o OUTPUT_FILE] [-t TICK_RATE] [-d] [input_file]

Convert osu! beatmap timing points to Clone Hero format

positional arguments:
  input_file            Path to the osu! beatmap file (default: example_beatmap.osu)

options:
  -h, --help            show this help message and exit
  -o OUTPUT_FILE, --output OUTPUT_FILE
                        Path to save the output file (if not specified, output to terminal only)
  -t TICK_RATE, --tick-rate TICK_RATE
                        Clone Hero tick rate (default: 192)
  -d, --debug           Enable debug logging
```

### Examples

Display conversion results in terminal:

```bash
python main.py path/to/beatmap.osu
```

Save output to file:

```bash
python main.py path/to/beatmap.osu -o output.txt
```

Change tick rate and enable debug logging:

```bash
python main.py path/to/beatmap.osu -t 240 -d
```

Using default input file:

```bash
python main.py
```

### Output Format

The script generates a file or displays output with the following format:

```
// Generated by Beatmap to Chart Converter
// https://github.com/theyadev/osuToChTimings
[SyncTrack]
{
  0 = TS 4
  0 = B 120000
  384 = TS 3
  384 = B 180000
  // ... more timing points
}
```

This output can be directly inserted into a Clone Hero chart file (.chart).

## How It Works

1. **Extraction**: The tool parses the osu! beatmap file and extracts timing points from the [TimingPoints] section
2. **Conversion**: 
   - osu! timing points (in milliseconds) are converted to .chart's tick-based system
   - A tick rate of 192 is used by default (Moonscraper standard), but can be changed
   - Negative timing points are handled by moving them to the closest positive equivalent
   - Decimal precision in BPM values is preserved
3. **Output**: The tool generates a properly formatted SyncTrack section ready for use in Clone Hero charts

## Important Note

**For accurate timing conversion**, you must use the exact same audio file in Clone Hero as the one used in the osu! beatmap. Any differences in the audio file (different encoding, trimmed silence, etc.) will cause timing mismatches between the games.

## Common Issues

- **File format errors**: Make sure you're using a valid osu! beatmap file (.osu)
- **No timing points**: Some beatmaps might not have explicit timing points; the tool will warn you if none are found
- **Tick synchronization**: Clone Hero uses 192 ticks per beat as the standard rate; this is used for conversion by default
- **Audio misalignment**: If the timing feels off in Clone Hero, ensure you're using the identical audio file from the osu! beatmap
- **Negative timing points**: The tool will handle negative timing points by moving them to the closest positive equivalent, this might not be accurate 100% of the time
- **Bad beatmap quality**: If the original osu! beatmap has poor timing quality, these inaccuracies will be carried over to the .chart file; choose well-timed beatmaps (ranked, qualified, loved) for best results

## Acknowledgments

- [Clone Hero Chart Format Documentation](https://github.com/TheNathannator/GuitarGame_ChartFormats/blob/main/doc/FileFormats/General%20Notes.md) - Comprehensive documentation on the Clone Hero tick to time conversion
- [osu! File Format Documentation](https://osu.ppy.sh/wiki/en/Client/File_formats/osu_%28file_format%29#timing-points) - Official documentation on the osu! beatmap file format, specifically the timing points section

## License

This project is open source and available under the [MIT License](LICENSE). 